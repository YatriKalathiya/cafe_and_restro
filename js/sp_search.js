var popular_data = [{ name: 'French', image: 'chaat.png' }, { name: 'japanese', image: 'khichdi.png' }, { name: 'japanese', image: 'khichdi.png' }, { name: 'spanish', image: 'breads.png' },];
var search_data = [{
    img: 'masaladaso.png',
    title: 'Samosa',
    cat: 'South India',
    type: 'non veg',
    rate: '4.7',
    des: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam, eaque quia eius maiores, alias eligendi fuga iure sit commodi aliquid consequatur amet odio error deleniti, dolor exercitationem iste a. Ipsa!',
    price: '$ 120',
    size: [{ title: 'Small', price: '$10' }, { title: 'Medium', price: '$14' }, { title: 'Large', price: '$18' }],
    stuffings:[{ title: 'Palack', price: '$10' }, { title: 'Paneer', price: '00' }],
    dips : [{ title: 'Green chutney', price: '$3'},{ title: 'Ketchup', price: '$3'},{ title: 'Dahi rayta', price: '$3'}],
    sub_cat:'Samosa',
    main_cat:'Indian',
},
{
    img: 'masaladaso.png',
    title: 'Pizza',
    cat: 'South India',
    type: 'pure veg',
    rate: '4.7',
    des: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam, eaque quia eius maiores, alias eligendi fuga iure sit commodi aliquid consequatur amet odio error deleniti, dolor exercitationem iste a. Ipsa!',
    price: '$ 120',
    types: [{ title: 'Regular', price: '$10' }, { title: 'Butter', price: '$14' }, { title: 'Cheese', price: '$18' }],
    stuffings:[{ title: 'Palack', price: '$10' }, { title: 'Paneer', price: '00' }],
    dips : [{ title: 'Green chutney', price: '$3'},{ title: 'Ketchup', price: '$3'},{ title: 'Dahi rayta', price: '$3'}],
    sub_cat:'Pizza',
    main_cat:'Indian',
},
{
    img: 'masaladaso.png',
    title: 'Pizza',
    cat: 'South India',
    type: 'pure veg',
    rate: '4.7',
    des: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam, eaque quia eius maiores, alias eligendi fuga iure sit commodi aliquid consequatur amet odio error deleniti, dolor exercitationem iste a. Ipsa!',
    price: '$ 120',
    types: [{ title: 'Regular', price: '$10' }, { title: 'Butter', price: '$14' }, { title: 'Cheese', price: '$18' }],
    stuffings:[{ title: 'Palack', price: '$10' }, { title: 'Paneer', price: '00' }],
    dips : [{ title: 'Green chutney', price: '$3'},{ title: 'Ketchup', price: '$3'},{ title: 'Dahi rayta', price: '$3'}],
    sub_cat:'Pizza',
    main_cat:'Indian',
},
{
    img: 'masaladaso.png',
    title: 'Masala Dosa',
    cat: 'South India',
    type: 'pure veg',
    rate: '4.7',
    des: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam, eaque quia eius maiores, alias eligendi fuga iure sit commodi aliquid consequatur amet odio error deleniti, dolor exercitationem iste a. Ipsa!',
    price: '$ 120',
    types: [{ title: 'Regular', price: '$10' }, { title: 'Butter', price: '$14' }, { title: 'Cheese', price: '$18' }],
    stuffings:[{ title: 'Palack', price: '$10' }, { title: 'Paneer', price: '00' }],
    dips : [{ title: 'Green chutney', price: '$3'},{ title: 'Ketchup', price: '$3'},{ title: 'Dahi rayta', price: '$3'}],
    sub_cat:'Dosa',
    main_cat:'Indian',
},
{
    img: 'masaladaso.png',
    title: 'Masala Dosa',
    cat: 'South India',
    type: 'pure veg',
    rate: '4.7',
    des: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam, eaque quia eius maiores, alias eligendi fuga iure sit commodi aliquid consequatur amet odio error deleniti, dolor exercitationem iste a. Ipsa!',
    price: '$ 120',
    types: [{ title: 'Regular', price: '$10' }, { title: 'Butter', price: '$14' }, { title: 'Cheese', price: '$18' }],
    stuffings:[{ title: 'Palack', price: '$10' }, { title: 'Paneer', price: '00' }],
    dips : [{ title: 'Green chutney', price: '$3'},{ title: 'Ketchup', price: '$3'},{ title: 'Dahi rayta', price: '$3'}],
    sub_cat:'Dosa',
    main_cat:'Indian',
},
{
    img: 'masaladaso.png',
    title: 'Masala Dosa',
    cat: 'South India',
    type: 'pure veg',
    rate: '4.7',
    des: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam, eaque quia eius maiores, alias eligendi fuga iure sit commodi aliquid consequatur amet odio error deleniti, dolor exercitationem iste a. Ipsa!',
    price: '$ 120',
    types: [{ title: 'Regular', price: '$10' }, { title: 'Butter', price: '$14' }, { title: 'Cheese', price: '$18' }],
    stuffings:[{ title: 'Palack', price: '$10' }, { title: 'Paneer', price: '00' }],
    dips : [{ title: 'Green chutney', price: '$3'},{ title: 'Ketchup', price: '$3'},{ title: 'Dahi rayta', price: '$3'}],
    sub_cat:'Dosa',
    main_cat:'Indian',
}, 
  {
    img: 'masaladaso.png',
    title: 'Masala Dosa',
    cat: 'South India',
    type: 'pure veg',
    rate: '4.7',
    des: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam, eaque quia eius maiores, alias eligendi fuga iure sit commodi aliquid consequatur amet odio error deleniti, dolor exercitationem iste a. Ipsa!',
    price: '$ 120',
    types: [{ title: 'Regular', price: '$10' }, { title: 'Butter', price: '$14' }, { title: 'Cheese', price: '$18' }],
    stuffings:[{ title: 'Palack', price: '$10' }, { title: 'Paneer', price: '00' }],
    dips : [{ title: 'Green chutney', price: '$3'},{ title: 'Ketchup', price: '$3'},{ title: 'Dahi rayta', price: '$3'}],
    sub_cat:'Dosa',
    main_cat:'Indian',
}
, 
  {
    img: 'masaladaso.png',
    title: 'Masala Dosa',
    cat: 'South India',
    type: 'pure veg',
    rate: '4.7',
    des: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam, eaque quia eius maiores, alias eligendi fuga iure sit commodi aliquid consequatur amet odio error deleniti, dolor exercitationem iste a. Ipsa!',
    price: '$ 120',
    types: [{ title: 'Regular', price: '$10' }, { title: 'Butter', price: '$14' }, { title: 'Cheese', price: '$18' }],
    stuffings:[{ title: 'Palack', price: '$10' }, { title: 'Paneer', price: '00' }],
    dips : [{ title: 'Green chutney', price: '$3'},{ title: 'Ketchup', price: '$3'},{ title: 'Dahi rayta', price: '$3'}],
    sub_cat:'Dosa',
    main_cat:'Indian',
}
, 
{
    img: 'masaladaso.png',
    title: 'Masala Dosa',
    cat: 'South India',
    type: 'pure veg',
    rate: '4.7',
    des: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam, eaque quia eius maiores, alias eligendi fuga iure sit commodi aliquid consequatur amet odio error deleniti, dolor exercitationem iste a. Ipsa!',
    price: '$ 120',
    types: [{ title: 'Regular', price: '$10' }, { title: 'Butter', price: '$14' }, { title: 'Cheese', price: '$18' }],
    stuffings:[{ title: 'Palack', price: '$10' }, { title: 'Paneer', price: '00' }],
    dips : [{ title: 'Green chutney', price: '$3'},{ title: 'Ketchup', price: '$3'},{ title: 'Dahi rayta', price: '$3'}],
    sub_cat:'Dosa',
    main_cat:'Indian',
}]

function search_load() {
    var id = document.getElementById('search_data');
    id.innerHTML = '';
    var popular1 = document.getElementById('popular_title');
    popular1.innerHTML = 'Popular category';
    var popular = document.getElementById('popular_data');
    popular.innerHTML = '';
    popular_data.forEach((el, id1) => {
        const itemdata = `<a href='./category_list.html' class=" col-lg-3 pb-5 text-decoration-none d-flex justify-content-center d-md-block">
                        <div class="sp_sub_cat_content m-auto ">
                            <div class="sp_sub_cat_img  m-auto ">
                                <img src="/sujal_img/${el.image}" alt="Card image cap" class="w-100">
                            </div>
                            <h4 class="sp_sub_cat_title m-auto ">${el.name}</h4>
                        </div>
                    </a>`;
        popular.innerHTML += itemdata;
    })

}

var item = 1;
function no_item(x) {
    if (x == '1' && item > 0) {
        item--;
    } else if (x == '2') {
        item++;
    }
    document.getElementById('no_items').innerHTML = item;
}
function searchhanddler(x) {
    console.log(x);
    if(x==''){
        search_load();
    }
    else 
    {
    var popular = document.getElementById('popular_data');
    popular.innerHTML = '';
    var popular1 = document.getElementById('popular_title');
    popular1.innerHTML = '';
    console.log(x[0]);
    var text = x[0].toUpperCase();
    console.log(text);
    var items = search_data.filter(item => item.title.includes(text));
    console.log(items);
    var id = document.getElementById('search_data');
    id.innerHTML = '';
    if (items.length == 0) {
        id.innerHTML = `
        <div class="search_not_found m-auto">
            <div class="text-center">
                <img src="/sujal_img/notfound.png">
                <h4 class="text-white">Item not found</h4>
                <h5>Try searching the item with a different keyword.</h5>
            </div>
        </div>`;
    }
    else {

        items.forEach((el, index) => {
            const itemHtml = `<div class="sp_search d-md-flex text-white m-auto s_catlist_card ">
                        <img src="/sujal_img/${el.img}" class="sp_thumbnail">
                        <div class="sp_text">
                            <div class="d-md-flex justify-content-between">
                                <h5>${el.title}</h5>
                                <h5 class="sp_color_yellow d-none d-md-block">${el.price}</h5>
                            </div>
                            <small class="d-flex text-secondary">
                                ${el.cat}
                                <ul class="d-flex ps-0 mx-3 mb-md-0 ">
                                    <li class="mx-3">${el.type}</li>
                                    <li class="mx-3 "><img src="/sujal_img/star.png" class="mx-1 align-self-center mb-1"><span>${el.rate}</span></li>
                                </ul>
                            </small>
                            <p class="sp_fs_13  w-100  d-md-none">${el.des}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <h5 class="sp_color_yellow d-md-none mb-0">${el.price}</h5>
                                <p class="sp_fs_13  w-75 me-3 d-md-block d-none mb-0">${el.des}</p>
                                <button type="button" class="s_add_btn" data-bs-toggle="modal" data-bs-target="#exampleModal${index}" onclick="no_item()">Add</button>
                                <div class="modal fade" id="exampleModal${index}" tabindex="-1" aria-labelledby="exampleModalLabel${index}" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                                        <div class="modal-content">
                                            <button type="button" class="btn-close ms-auto text-white" data-bs-dismiss="modal" aria-label="Close"></button>
                                            <h5 class="modal-title text-center" id="exampleModalLabel${index}">Customize As Per Your Taste</h5>
                                            <div class="modal-body">
                                                <div class="s_modal_inner">
                                                    <small>
                                                        <p class="s_modal_inp">Add Instructions</p>
                                                        <hr>
                                                        <textarea class="s_modal_inp s_modal_intxt" rows="2" placeholder="Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatum praesentium ex numquam perferendis incidunt quas tempore repellendus qui unde cum, reprehenderit adipisci nam. "></textarea>
                                                    </small>
                                                </div>
                                                <div class="s_modal_inner">
                                                    <h5 class="s_modal_inp">${el.size ? 'Size' : 'Types'}</h5>
                                                    <hr>
                                                    <ul class="list-unstyled s_modal_inp">
                                                        ${(el.size || el.types).map((option, i) => `
                                                            <li class="d-flex justify-content-between align-items-center py-2">
                                                                <label for="option-${index}-${i}" class="size-label">${option.title}</label>
                                                                <div class="radio-wrapper d-flex justify-content-center">
                                                                    <p class="ms-auto mb-0 px-3 text-secondary">+${option.price}</p>
                                                                    <input id="option-${index}-${i}" class="radio-input" type="radio" name="${el.size ? 'size' : 'type'}" value="${option.title}">
                                                                    <label for="option-${index}-${i}" class="radio-label"></label>
                                                                </div>
                                                            </li>
                                                        `).join('')}
                                                    </ul>
                                                </div>
                                                <div class="s_modal_inner">
                                                    <h5 class="s_modal_inp">Stuffings</h5>
                                                    <hr>
                                                    <ul class="list-unstyled s_modal_inp">
                                                        ${el.stuffings ? `
                                                        ${el.stuffings.map((ele, idn) => {
                return `<li class="d-flex justify-content-between align-items-center py-2"><p class="mb-0">${ele.title}</p>
                                                            <div class="">
                                                                <div class="d-flex align-items-center">
                                                                    <p class="ms-auto mb-0 px-3 text-secondary">+${ele.price}</p>
                                                                    <input type="checkbox" name="Stuffings" value="${ele.title}">
                                                                </div>
                                                            </div>
                                                        </li>`
            }).join('')}
                                                            `: ''}
                                                        
                                                        
                                                    </ul>
                                                </div>
                                                <div class="s_modal_inner">
                                                    <h5 class="s_modal_inp">Dips</h5>
                                                    <hr>
                                                    <ul class="list-unstyled s_modal_inp">
                                                                                                        ${el.stuffings ? `
                                                        ${el.stuffings.map((ele, idn) => {
                return `<li class="d-flex justify-content-between align-items-center py-2"><p class="mb-0">${ele.title}</p>
                                                            <div class="">
                                                                <div class="d-flex align-items-center">
                                                                    <p class="ms-auto mb-0 px-3 text-secondary">+${ele.price}</p>
                                                                    <input type="checkbox" name="Stuffings" value="${ele.title}">
                                                                </div>
                                                            </div>
                                                        </li>`
            }).join('')}
                                                            `: ''}
                                                        
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="sp_modal_footer">
                                                <div class="sp_btn d-flex justify-content-around align-items-center">
                                                    <h5 class="mb-0" onclick="no_item('1')" type="button">-</h5>
                                                    <h5 class="mb-0" id="no_items" type="button">${item}</h5>
                                                    <h5 class="mb-0" onclick="no_item('2')" type="button">+</h5>
                                                </div>
                                                <div class="sp_btn d-flex justify-content-around align-items-center" type="button">
                                                    <h5 class="mb-0">Add Item</h5>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>`;
            id.innerHTML += itemHtml;
        });
    }
}
}
function searchclosehanddler() {
    search_load();
    document.getElementById("search_input").value = "";
}
window.onload = function () {
    search_load();
}